<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Guide to Google L3 DSA Interviews in India</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: "Cloud Nine Elegance" - A light theme using a base of soft white/off-white, accented with warm amber and fresh emerald green. Text is dark grey/black for optimal readability. -->
    <!-- Application Structure Plan: A multi-section, non-linear dashboard. This structure was chosen over a simple document layout to allow users to jump directly to the content most relevant to them. The flow is designed for exploration: 1. High-level overview of the interview. 2. Interactive deep-dive into DSA topics with a chart and filters. 3. Practical breakdown of the interview timeline and non-coding rounds. 4. Actionable preparation roadmap. This architecture transforms passive reading into an active, user-driven exploration, significantly improving usability and information retention. -->
    <!-- Visualization & Content Choices: 
        - Report Info: DSA Topic Frequency (Table 1). Goal: Compare proportions. Viz: Chart.js Donut Chart. Interaction: Hover for tooltips. Justification: A donut chart provides an immediate, intuitive understanding of topic importance, which is more effective than a table. Library: Chart.js (Canvas).
        - Report Info: Canonical DSA Problems (Section III). Goal: Organize and detail. Presentation: Interactive Filterable Cards. Interaction: Click buttons to filter problem lists by topic. Justification: Manages a large amount of information cleanly, preventing cognitive overload and allowing users to focus on one topic at a time. Method: HTML/CSS/JS.
        - Report Info: Anatomy of an Interview Round (Section II). Goal: Show change/process. Presentation: Visual Timeline. Interaction: Static visual guide. Justification: A timeline visually grounds the abstract 45-minute structure, making the time allocation strategy easier to grasp. Method: HTML/CSS with Tailwind.
        - Report Info: Non-Coding Rounds (Section IV). Goal: Organize and detail. Presentation: Accordion UI. Interaction: Click to expand/collapse. Justification: Hides detailed information by default, keeping the UI clean and allowing users to drill down as needed. Method: HTML/CSS/JS.
        - New: Problem Insights. Goal: Provide quick, contextual help for specific DSA problems. Presentation: Text input and generated text output. Interaction: User enters problem, clicks button to get explanation/hint from LLM. Justification: Direct assistance for specific study needs, leveraging generative AI. Method: HTML/CSS/JS + Gemini API.
        - New: Practice Question Generator. Goal: Create new practice questions for self-assessment. Presentation: Topic dropdown and generated question output. Interaction: User selects topic, clicks button to generate new question from LLM. Justification: Provides infinite practice opportunities tailored to specific topics, leveraging generative AI. Method: HTML/CSS/JS + Gemini API.
        - New: Code Playground. Goal: Provide an integrated environment for practicing coding solutions. Presentation: Code editor (textarea) and timer. Interaction: Timer starts with question generation, allows pause/reset. Justification: Offers a complete practice loop within the app, enhancing the simulated interview experience. Method: HTML/CSS/JS.
        - New: Solution Submitter. Goal: Simulate evaluation of written code. Presentation: Submit button, dynamic test case display, and LLM-generated feedback. Interaction: User clicks submit, LLM generates test cases and then evaluates the code against them. Justification: Adds a critical feedback loop, allowing users to gauge conceptual correctness and identify potential issues without actual compilation. Method: HTML/CSS/JS + Gemini API.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F8F8;
            /* Soft Off-White */
            color: #333333;
            /* Dark Gray for main text */
        }

        .container {
            background-color: #FFFFFF;
            /* Pure White for container */
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            /* Lighter shadow for premium feel */
        }

        section {
            background-color: #FFFFFF;
            /* White background for sections */
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
            /* Very light shadow */
            padding: 2.5rem;
        }

        h1,
        h2,
        h3,
        h4 {
            color: #222222;
            /* Very Dark Gray for headings */
        }

        .text-amber-700 {
            color: #E65100;
            /* Richer, deeper Amber for accents */
        }

        .text-gray-600 {
            color: #555555;
            /* Medium Gray for descriptive text */
        }

        /* Filter Buttons */
        .active-filter {
            background-color: #E65100;
            /* Rich Amber Accent */
            color: #FFFFFF;
            box-shadow: 0 2px 4px rgba(230, 81, 0, 0.3);
        }

        .inactive-filter {
            background-color: #EEEEEE;
            /* Light gray for inactive */
            color: #444444;
        }

        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(230, 81, 0, 0.4);
        }

        /* Card Backgrounds */
        .bg-white {
            /* Reusing bg-white for general cards, set in Tailwind defaults */
            background-color: #FFFFFF;
            border-color: #E0E0E0;
            /* Light gray border for contrast */
        }

        .problem-card:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        /* LLM Buttons */
        .llm-button {
            background-color: #00A382;
            /* Brighter Emerald Green */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 600;
            transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
            box-shadow: 0 2px 4px rgba(0, 163, 130, 0.3);
        }

        .llm-button:hover {
            background-color: #008D6E;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 163, 130, 0.4);
        }

        .llm-button:active {
            transform: translateY(0);
            box-shadow: 0 1px 2px rgba(0, 163, 130, 0.2);
        }

        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            /* Darker spinner for light bg */
            border-left-color: #00A382;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Input Fields & Textareas */
        input[type="text"],
        select,
        textarea {
            background-color: #F8F8F8;
            /* Light input background */
            color: #333333;
            border-color: #DDDDDD;
            /* Light border */
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
            /* Very subtle inner shadow */
        }

        input[type="text"]:focus,
        select:focus,
        textarea:focus {
            border-color: #E65100;
            /* Amber focus ring */
            box-shadow: 0 0 0 2px rgba(230, 81, 0, 0.3);
        }

        textarea.bg-gray-900 {
            /* Code editor */
            background-color: #F0F0F0;
            /* Slightly darker light background */
            border-color: #CCCCCC;
            color: #333333;
            /* Dark text for code */
        }

        /* Output Areas */
        .bg-gray-50 {
            background-color: #F8F8F8;
            /* Light output background */
            color: #333333;
            border-color: #DDDDDD;
        }

        /* Timeline */
        .bg-gray-300 {
            background-color: #BBBBBB;
            /* Lighter timeline line */
        }

        .text-amber-800 {
            color: #E65100;
            /* Richer Amber for timeline headings */
        }

        .bg-amber-600 {
            /* For timer indicators */
            background-color: #E65100;
            box-shadow: 0 2px 4px rgba(230, 81, 0, 0.3);
        }

        /* Accordion Headers */
        .accordion-header {
            background-color: #FFFFFF;
            border-color: #E0E0E0;
            color: #222222;
        }

        .accordion-header:hover {
            background-color: #F8F8F8;
        }

        .accordion-icon {
            color: #E65100;
            /* Amber icon */
        }

        /* Chart container */
        .chart-container {
            background-color: #FFFFFF;
            /* White background for chart area */
            border-color: #E0E0E0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
        }
    </style>
</head>

<body class="antialiased">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <!-- Header -->
        <header class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">The Definitive Guide to Google L3 DSA Interviews</h1>
            <p class="text-lg max-w-3xl mx-auto">An interactive dashboard to navigate the key topics, structure, and
                strategies for success in Google's L3 technical interviews in India.</p>
        </header>

        <!-- Interview Overview -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-10">The L3 Interview Landscape</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-md border">
                    <h3 class="font-semibold text-xl mb-2 text-amber-700">General Cognitive Ability (GCA)</h3>
                    <p class="text-gray-600">Assesses your problem-solving skills, ability to learn, and how you adapt
                        to new, complex situations under pressure.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border">
                    <h3 class="font-semibold text-xl mb-2 text-amber-700">Role-Related Knowledge (RRK)</h3>
                    <p class="text-gray-600">Evaluates your practical, hands-on understanding of data structures,
                        algorithms, and core software engineering principles.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border">
                    <h3 class="font-semibold text-xl mb-2 text-amber-700">Leadership</h3>
                    <p class="text-gray-600">Measures your potential to drive projects, take ownership of your work, and
                        influence outcomes within a team setting.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border">
                    <h3 class="font-semibold text-xl mb-2 text-amber-700">"Googliness"</h3>
                    <p class="text-gray-600">Focuses on cultural fit, assessing your collaborative spirit, humility, and
                        ability to thrive in a team-oriented environment.</p>
                </div>
            </div>
        </section>

        <!-- DSA Topic Deep Dive -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-4">DSA Topic Deep Dive</h2>
            <p class="text-lg max-w-3xl mx-auto text-center mb-12 text-gray-600">The interview questions are not random.
                This section breaks down the most frequently tested DSA topics. Use the chart to see the distribution
                and the filters to explore canonical problems for each category.</p>

            <div class="flex flex-col lg:flex-row items-center lg:items-start gap-12">
                <!-- Chart -->
                <div class="w-full lg:w-1/3 flex-shrink-0">
                    <div class="bg-white p-6 rounded-xl shadow-lg border chart-container mx-auto"
                        style="position: relative; height:40vh; max-height: 400px; width:100%; max-width: 400px;">
                        <canvas id="dsaTopicChart"></canvas>
                    </div>
                </div>

                <!-- Problems -->
                <div class="w-full lg:w-2/3">
                    <div class="flex flex-wrap justify-center gap-3 mb-8" id="filter-buttons">
                        <button data-topic="all"
                            class="filter-btn active-filter font-medium py-2 px-4 rounded-full transition-colors duration-200">All
                            Topics</button>
                        <button data-topic="trees-graphs"
                            class="filter-btn inactive-filter font-medium py-2 px-4 rounded-full transition-colors duration-200">Trees
                            & Graphs</button>
                        <button data-topic="arrays-strings"
                            class="filter-btn inactive-filter font-medium py-2 px-4 rounded-full transition-colors duration-200">Arrays
                            & Strings</button>
                        <button data-topic="dp"
                            class="filter-btn inactive-filter font-medium py-2 px-4 rounded-full transition-colors duration-200">Dynamic
                            Programming</button>
                        <button data-topic="heaps-stacks-queues"
                            class="filter-btn inactive-filter font-medium py-2 px-4 rounded-full transition-colors duration-200">Heaps,
                            Stacks, Queues</button>
                        <button data-topic="other"
                            class="filter-btn inactive-filter font-medium py-2 px-4 rounded-full transition-colors duration-200">Other
                            Topics</button>
                    </div>

                    <div id="problem-list" class="grid md:grid-cols-2 gap-6">
                        <!-- Problems will be injected here by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Problem Insights (LLM Powered) -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-4">Problem Insights ✨</h2>
            <p class="text-lg max-w-3xl mx-auto text-center mb-8 text-gray-600">Stuck on a problem? Get a quick
                explanation or a high-level hint. Just type the problem title below!</p>
            <div class="flex flex-col items-center gap-4 max-w-xl mx-auto">
                <input type="text" id="problemInput" placeholder="E.g., Merge Overlapping Intervals"
                    class="w-full p-3 border rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent">
                <button id="getProblemInsightBtn" class="llm-button flex items-center justify-center gap-2">
                    Get Insight ✨
                    <div id="problemInsightSpinner" class="hidden loading-spinner"></div>
                </button>
                <div id="problemInsightOutput"
                    class="w-full mt-4 p-4 bg-gray-50 rounded-md border min-h-[80px] flex items-center justify-center text-center">
                    Your insights will appear here.
                </div>
            </div>
        </section>

        <!-- Practice Question Generator (LLM Powered) -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-4">Practice Question Generator ✨</h2>
            <p class="text-lg max-w-3xl mx-auto text-center mb-8 text-gray-600">Need more practice? Generate a new DSA
                question on a specific topic!</p>
            <div class="flex flex-col items-center gap-4 max-w-xl mx-auto">
                <select id="questionTopicSelect"
                    class="w-full p-3 border rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent">
                    <option value="Trees & Graphs">Trees & Graphs</option>
                    <option value="Arrays & Strings">Arrays & Strings</option>
                    <option value="Dynamic Programming">Dynamic Programming</option>
                    <option value="Heaps, Stacks, Queues">Heaps, Stacks, Queues</option>
                    <option value="Recursion & Backtracking">Recursion & Backtracking</option>
                    <option value="Linked Lists">Linked Lists</option>
                    <option value="Hashing">Hashing</option>
                    <option value="Greedy Algorithms">Greedy Algorithms</option>
                </select>
                <button id="generateQuestionBtn" class="llm-button flex items-center justify-center gap-2">
                    Generate Question ✨
                    <div id="generateQuestionSpinner" class="hidden loading-spinner"></div>
                </button>
                <div id="generatedQuestionOutput"
                    class="w-full mt-4 p-4 bg-gray-50 rounded-md border min-h-[120px] flex items-center justify-center text-center whitespace-pre-wrap">
                    Your generated question will appear here.
                </div>
            </div>
        </section>

        <!-- Code Playground -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-4">Code Playground 🚀</h2>
            <p class="text-lg max-w-3xl mx-auto text-center mb-8 text-gray-600">Write your C++ code here. The timer
                below will help you practice within interview time limits!</p>
            <div class="flex flex-col items-center gap-4 max-w-3xl mx-auto">
                <div id="timer-display" class="text-5xl font-bold mb-4">00:00</div>
                <div class="flex gap-4 mb-4">
                    <button id="startTimerBtn" class="llm-button">Start</button>
                    <button id="pauseTimerBtn" class="llm-button">Pause</button>
                    <button id="resetTimerBtn" class="llm-button">Reset</button>
                </div>
                <textarea id="code-editor" placeholder="// Write your C++ code here"
                    class="w-full h-96 p-4 border rounded-md bg-gray-900 text-gray-200 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"></textarea>
                <button id="submitSolutionBtn" class="llm-button flex items-center justify-center gap-2 mt-4">
                    Submit Solution ✅
                    <div id="submitSolutionSpinner" class="hidden loading-spinner"></div>
                </button>
                <div id="solutionFeedbackOutput"
                    class="w-full mt-6 p-4 bg-gray-50 rounded-md border min-h-[100px] flex items-center justify-center text-center whitespace-pre-wrap">
                    Submit your solution to get feedback!
                </div>
            </div>
        </section>

        <!-- Anatomy of an Interview Round -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-4">Anatomy of a 45-Minute DSA Round</h2>
            <p class="text-lg max-w-3xl mx-auto text-center mb-12 text-gray-600">A successful interview hinges on
                effective time management. This timeline breaks down the ideal pacing for a 45-minute problem-solving
                session, ensuring you have enough time to clarify, code, and handle follow-ups.</p>
            <div class="relative w-full max-w-4xl mx-auto">
                <div class="absolute left-1/2 h-full w-0.5 bg-gray-300"></div>
                <div class="relative flex justify-between items-center w-full mb-8">
                    <div class="w-5/12 text-right pr-8">
                        <h3 class="font-bold text-lg text-amber-700">Introductions & Clarification</h3>
                        <p class="text-sm text-gray-600">Confirm constraints, edge cases, and your understanding of the
                            problem.</p>
                    </div>
                    <div
                        class="z-10 bg-amber-600 text-white w-24 h-12 rounded-full flex items-center justify-center font-bold text-sm">
                        0-5 min</div>
                    <div class="w-5/12"></div>
                </div>
                <div class="relative flex justify-between items-center w-full mb-8">
                    <div class="w-5/12"></div>
                    <div
                        class="z-10 bg-amber-600 text-white w-24 h-12 rounded-full flex items-center justify-center font-bold text-sm">
                        5-10 min</div>
                    <div class="w-5/12 pl-8">
                        <h3 class="font-bold text-lg text-amber-700">Articulate Approach</h3>
                        <p class="text-sm text-gray-600">Discuss brute-force vs. optimal solutions. Explain your chosen
                            data structures and algorithm with complexity analysis.</p>
                    </div>
                </div>
                <div class="relative flex justify-between items-center w-full mb-8">
                    <div class="w-5/12 text-right pr-8">
                        <h3 class="font-bold text-lg text-amber-700">Live Coding</h3>
                        <p class="text-sm text-gray-600">Write clean, well-structured, and commented code. Think out
                            loud as you go.</p>
                    </div>
                    <div
                        class="z-10 bg-amber-600 text-white w-24 h-12 rounded-full flex items-center justify-center font-bold text-sm">
                        10-20 min</div>
                    <div class="w-5/12"></div>
                </div>
                <div class="relative flex justify-between items-center w-full mb-8">
                    <div class="w-5/12"></div>
                    <div
                        class="z-10 bg-amber-600 text-white w-24 h-12 rounded-full flex items-center justify-center font-bold text-sm">
                        20-25 min</div>
                    <div class="w-5/12 pl-8">
                        <h3 class="font-bold text-lg text-amber-700">Dry Run & Verification</h3>
                        <p class="text-sm text-gray-600">Manually walk through a test case to verify your code's logic
                            and correctness before the interviewer does.</p>
                    </div>
                </div>
                <div class="relative flex justify-between items-center w-full">
                    <div class="w-5/12 text-right pr-8">
                        <h3 class="font-bold text-lg text-amber-700">Follow-ups & Q&A</h3>
                        <p class="text-sm text-gray-600">Tackle extensions to the problem. This is where strong
                            candidates shine. Ask your own questions at the end.</p>
                    </div>
                    <div
                        class="z-10 bg-amber-600 text-white w-24 h-12 rounded-full flex items-center justify-center font-bold text-sm">
                        25-45 min</div>
                    <div class="w-5/12"></div>
                </div>
            </div>
        </section>

        <!-- Beyond the Code -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-4">Beyond the Code</h2>
            <p class="text-lg max-w-3xl mx-auto text-center mb-12 text-gray-600">The interview process evaluates more
                than just your coding skills. This section covers the "lightweight" System Design and the crucial
                "Googliness" behavioral rounds. Click each title to expand and see key details.</p>
            <div class="max-w-3xl mx-auto space-y-4" id="accordion-container">
                <!-- Accordion Item 1 -->
                <div class="bg-white border rounded-lg">
                    <button
                        class="accordion-header w-full flex justify-between items-center text-left p-5 font-semibold text-lg focus:outline-none">
                        <span>L3 System Design: Scope & Expectations</span>
                        <span class="accordion-icon transform transition-transform duration-300">&#9662;</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-5 pt-0 text-gray-600">
                            <p class="mb-4">This round is "lightweight" and focuses on object-oriented design rather
                                than large-scale distributed systems. The goal is to see how you break down a problem
                                and model components.</p>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Key Focus:</strong> API design, data modeling, and class interactions.</li>
                                <li><strong>Sample Prompts:</strong> Design a library management system, a rate limiter,
                                    or a simple collaborative editor.</li>
                                <li><strong>What's Not Expected:</strong> Deep knowledge of load balancers, sharding, or
                                    complex distributed architecture.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Accordion Item 2 -->
                <div class="bg-white border rounded-lg">
                    <button
                        class="accordion-header w-full flex justify-between items-center text-left p-5 font-semibold text-lg focus:outline-none">
                        <span>The "Googliness" Round: Behavioral Fit</span>
                        <span class="accordion-icon transform transition-transform duration-300">&#9662;</span>
                    </button>
                    <div class="accordion-content">
                        <div class="p-5 pt-0 text-gray-600">
                            <p class="mb-4">This is a formal 45-minute behavioral interview. Use the STAR method
                                (Situation, Task, Action, Result) to structure your answers based on past experiences.
                            </p>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Sample Question 1:</strong> "Tell me about a time you had to deal with a
                                    difficult team member."</li>
                                <li><strong>Sample Question 2:</strong> "Describe a project that didn't go as planned.
                                    What did you learn?"</li>
                                <li><strong>Sample Question 3:</strong> "How do you stay updated with new technologies?"
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Preparation Roadmap -->
        <section>
            <h2 class="text-3xl font-bold text-center mb-4">Your Preparation Roadmap</h2>
            <p class="text-lg max-w-3xl mx-auto text-center mb-12 text-gray-600">Success requires a structured approach.
                Focus on deep understanding, not rote memorization, to handle the inevitable follow-up questions that
                separate good candidates from great ones.</p>
            <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <div class="bg-white p-6 rounded-xl shadow-md border text-center">
                    <div class="text-4xl mb-4">🎯</div>
                    <h3 class="font-semibold text-xl mb-2 text-amber-700">Targeted Practice</h3>
                    <p class="text-gray-600">Focus on medium and hard problems from platforms like LeetCode and
                        GeeksForGeeks. Prioritize problems reported from past Google interviews.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border text-center">
                    <div class="text-4xl mb-4">🗣️</div>
                    <h3 class="font-semibold text-xl mb-2 text-amber-700">Simulate the Environment</h3>
                    <p class="text-gray-600">Conduct mock interviews with peers. Practice thinking out loud and managing
                        the 45-minute time constraint to build confidence and refine your pacing.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border text-center">
                    <div class="text-4xl mb-4">🧠</div>
                    <h3 class="font-semibold text-xl mb-2 text-amber-700">Deep Understanding</h3>
                    <p class="text-gray-600">Understand the "why" behind algorithms and data structures. This is crucial
                        for adapting your solution to follow-up questions.</p>
                </div>
            </div>
        </section>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Chart.js Data and Configuration
            const chartData = {
                labels: ['Trees & Graphs', 'Arrays & Strings', 'Dynamic Programming', 'Recursion', 'Geometry & Math'],
                datasets: [{
                    label: 'DSA Topic Frequency',
                    data: [39, 26, 12, 12, 11],
                    backgroundColor: [
                        'rgba(230, 81, 0, 0.7)',  /* Rich Amber */
                        'rgba(255, 152, 0, 0.7)', /* Lighter Amber */
                        'rgba(255, 193, 7, 0.7)', /* Golden Yellow */
                        'rgba(255, 213, 79, 0.7)',/* Light Yellow */
                        'rgba(255, 236, 179, 0.7)' /* Pale Yellow */
                    ],
                    borderColor: [
                        'rgba(230, 81, 0, 1)',
                        'rgba(255, 152, 0, 1)',
                        'rgba(255, 193, 7, 1)',
                        'rgba(255, 213, 79, 1)',
                        'rgba(255, 236, 179, 1)'
                    ],
                    borderWidth: 1,
                    hoverOffset: 4
                }]
            };

            const chartConfig = {
                type: 'doughnut',
                data: chartData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: {
                                    family: "'Inter', sans-serif",
                                    color: '#333333' // Dark text for legend on light background
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed + '%';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            };

            const ctx = document.getElementById('dsaTopicChart').getContext('2d');
            new Chart(ctx, chartConfig);

            // DSA Problem Data
            const problems = [
                { topic: 'arrays-strings', title: 'Find Subarray with Given Sum', description: 'A classic that tests your ability to adapt. Use a sliding window for non-negative numbers, or hashing if negatives are allowed.' },
                { topic: 'arrays-strings', title: 'Merge Overlapping Intervals', description: 'Requires sorting intervals by start time first, then a single linear pass to merge. Key concept: preprocessing.' },
                { topic: 'arrays-strings', title: 'The Celebrity Problem', description: 'A graph problem solvable with a two-pointer approach in O(N) time, a significant optimization over the naive solution.' },
                { topic: 'trees-graphs', title: 'Binary Tree Maximum Path Sum', description: 'A challenging recursion problem. The path can start and end at any node, requiring careful post-order traversal logic.' },
                { topic: 'trees-graphs', title: 'Word Ladder', description: 'Model words as a graph and find the shortest path. This immediately points to using Breadth-First Search (BFS).' },
                { topic: 'trees-graphs', title: 'Alien Dictionary', description: 'Model character order as a Directed Acyclic Graph (DAG) and find the sequence using Topological Sort (either Kahn\'s or DFS-based).' },
                { topic: 'dp', title: 'Word Break Problem', description: 'A classic DP problem. Optimize the exponential recursive solution down to O(N^2) using memoization or tabulation.' },
                { topic: 'dp', title: 'Allocate Minimum Pages', description: 'A clever problem solved by applying binary search on the answer space (the possible range of pages), not the input array.' },
                { topic: 'dp', title: 'Egg Dropping Puzzle', description: 'A hard DP problem that requires careful state modeling to find the minimum number of drops needed in the worst case.' },
                { topic: 'heaps-stacks-queues', title: 'Implement LRU Cache', description: 'A data structure design question. The optimal O(1) solution combines a hash map for lookups and a doubly linked list for eviction.' },
                { topic: 'heaps-stacks-queues', title: 'Median in a Data Stream', description: 'Uses two heaps (a max-heap and a min-heap) to efficiently find the median in O(log N) time per insertion.' },
                { topic: 'heaps-stacks-queues', title: 'Longest Valid Parentheses', description: 'An efficient O(N) solution can be achieved using a stack to keep track of the indices of opening parentheses.' },
                { topic: 'other', title: 'Sudoku Solver', description: 'A classic backtracking problem where you explore potential solutions and backtrack when a path becomes invalid.' },
                { topic: 'other', title: 'Sum of Bit Differences', description: 'An elegant bit manipulation solution that processes each bit position across all numbers to achieve an O(N) time complexity.' }
            ];

            const problemListContainer = document.getElementById('problem-list');
            const filterButtonsContainer = document.getElementById('filter-buttons');

            function renderProblems(filter = 'all') {
                problemListContainer.innerHTML = '';
                const filteredProblems = filter === 'all' ? problems : problems.filter(p => p.topic === filter);

                if (filteredProblems.length === 0) {
                    problemListContainer.innerHTML = `<p class="text-gray-600 col-span-full text-center">No problems found for this category.</p>`;
                    return;
                }

                filteredProblems.forEach(problem => {
                    const problemEl = document.createElement('div');
                    problemEl.className = 'problem-card bg-white p-6 rounded-xl shadow-md border transition-transform transform hover:scale-105';
                    problemEl.innerHTML = `
                        <h4 class="font-semibold text-lg mb-2">${problem.title}</h4>
                        <p class="text-gray-600 text-sm">${problem.description}</p>
                    `;
                    problemListContainer.appendChild(problemEl);
                });
            }

            filterButtonsContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('filter-btn')) {
                    document.querySelectorAll('.filter-btn').forEach(btn => {
                        btn.classList.remove('active-filter');
                        btn.classList.add('inactive-filter');
                    });
                    e.target.classList.add('active-filter');
                    e.target.classList.remove('inactive-filter');
                    renderProblems(e.target.dataset.topic);
                }
            });

            const accordionContainer = document.getElementById('accordion-container');
            accordionContainer.addEventListener('click', (e) => {
                const header = e.target.closest('.accordion-header');
                if (!header) return;

                const content = header.nextElementSibling;
                const icon = header.querySelector('.accordion-icon');

                document.querySelectorAll('.accordion-header').forEach(otherHeader => {
                    if (otherHeader !== header) {
                        otherHeader.nextElementSibling.style.maxHeight = null;
                        otherHeader.querySelector('.accordion-icon').style.transform = 'rotate(0deg)';
                    }
                });

                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                    icon.style.transform = 'rotate(0deg)';
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                    icon.style.transform = 'rotate(180deg)';
                }
            });

            const problemInput = document.getElementById('problemInput');
            const getProblemInsightBtn = document.getElementById('getProblemInsightBtn');
            const problemInsightOutput = document.getElementById('problemInsightOutput');
            const problemInsightSpinner = document.getElementById('problemInsightSpinner');

            getProblemInsightBtn.addEventListener('click', async () => {
                const problemTitle = problemInput.value.trim();
                if (!problemTitle) {
                    problemInsightOutput.innerHTML = "Please enter a problem title.";
                    return;
                }

                problemInsightOutput.innerHTML = "";
                problemInsightSpinner.classList.remove('hidden');
                getProblemInsightBtn.disabled = true;

                const prompt = `Provide a concise explanation and a high-level hint for the DSA problem: "${problemTitle}". Do not provide the full solution. Focus on the core idea and a hint towards the optimal approach.`;
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                let retries = 0;
                const maxRetries = 5;
                let delay = 1000;

                while (retries < maxRetries) {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (response.status === 429) {
                            retries++;
                            await new Promise(res => setTimeout(res, delay));
                            delay *= 2;
                            continue;
                        }

                        const result = await response.json();
                        if (result.candidates && result.candidates.length > 0 &&
                            result.candidates[0].content && result.candidates[0].content.parts &&
                            result.candidates[0].content.parts.length > 0) {
                            const text = result.candidates[0].content.parts[0].text;
                            problemInsightOutput.innerHTML = text;
                        } else {
                            problemInsightOutput.innerHTML = "Could not generate insight. Please try again.";
                        }
                        break;
                    } catch (error) {
                        problemInsightOutput.innerHTML = "An error occurred while fetching insight: " + error.message;
                        break;
                    } finally {
                        problemInsightSpinner.classList.add('hidden');
                        getProblemInsightBtn.disabled = false;
                    }
                }
                if (retries === maxRetries) {
                    problemInsightOutput.innerHTML = "Failed to generate insight after multiple retries. Please try again later.";
                }
            });

            const questionTopicSelect = document.getElementById('questionTopicSelect');
            const generateQuestionBtn = document.getElementById('generateQuestionBtn');
            const generatedQuestionOutput = document.getElementById('generatedQuestionOutput');
            const generateQuestionSpinner = document.getElementById('generateQuestionSpinner');
            const codeEditor = document.getElementById('code-editor');
            const submitSolutionBtn = document.getElementById('submitSolutionBtn');
            const solutionFeedbackOutput = document.getElementById('solutionFeedbackOutput');
            const submitSolutionSpinner = document.getElementById('submitSolutionSpinner');

            let timerInterval;
            let startTime;
            let elapsedTime = 0;
            let isRunning = false;
            let currentProblemStatement = ""; // Store the last generated problem statement

            const timerDisplay = document.getElementById('timer-display');
            const startTimerBtn = document.getElementById('startTimerBtn');
            const pauseTimerBtn = document.getElementById('pauseTimerBtn');
            const resetTimerBtn = document.getElementById('resetTimerBtn');

            function formatTime(ms) {
                const totalSeconds = Math.floor(ms / 1000);
                const minutes = Math.floor(totalSeconds / 60);
                const seconds = totalSeconds % 60;
                return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            }

            function updateTimerDisplay() {
                timerDisplay.textContent = formatTime(elapsedTime);
            }

            function startTimer() {
                if (!isRunning) {
                    startTime = Date.now() - elapsedTime;
                    timerInterval = setInterval(() => {
                        elapsedTime = Date.now() - startTime;
                        updateTimerDisplay();
                    }, 1000);
                    isRunning = true;
                }
            }

            function pauseTimer() {
                clearInterval(timerInterval);
                isRunning = false;
            }

            function resetTimer() {
                clearInterval(timerInterval);
                elapsedTime = 0;
                isRunning = false;
                updateTimerDisplay();
            }

            startTimerBtn.addEventListener('click', startTimer);
            pauseTimerBtn.addEventListener('click', pauseTimer);
            resetTimerBtn.addEventListener('click', resetTimer);

            generateQuestionBtn.addEventListener('click', async () => {
                const selectedTopic = questionTopicSelect.value;
                generatedQuestionOutput.innerHTML = "";
                generateQuestionSpinner.classList.remove('hidden');
                generateQuestionBtn.disabled = true;

                const prompt = `Generate a new, unique Google L3 level Data Structures and Algorithms interview question, specifically tailored for C++ language, on the topic of "${selectedTopic}". The question should be challenging enough for an L3 role, clearly stated, and include a non-trivial example input/output pair. Do not provide the solution.`;
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                let retries = 0;
                const maxRetries = 5;
                let delay = 1000;

                while (retries < maxRetries) {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (response.status === 429) {
                            retries++;
                            await new Promise(res => setTimeout(res, delay));
                            delay *= 2;
                            continue;
                        }

                        const result = await response.json();
                        if (result.candidates && result.candidates.length > 0 &&
                            result.candidates[0].content && result.candidates[0].content.parts &&
                            result.candidates[0].content.parts.length > 0) {
                            const text = result.candidates[0].content.parts[0].text;
                            generatedQuestionOutput.innerHTML = text;
                            currentProblemStatement = text; // Store the generated problem
                            resetTimer();
                            startTimer();
                            solutionFeedbackOutput.innerHTML = "Submit your solution to get feedback!"; // Reset feedback area
                            codeEditor.value = ""; // Clear editor
                        } else {
                            generatedQuestionOutput.innerHTML = "Could not generate question. Please try again.";
                        }
                        break;
                    } catch (error) {
                        generatedQuestionOutput.innerHTML = "An error occurred while generating question: " + error.message;
                        break;
                    } finally {
                        generateQuestionSpinner.classList.add('hidden');
                        generateQuestionBtn.disabled = false;
                    }
                }
                if (retries === maxRetries) {
                    generatedQuestionOutput.innerHTML = "Failed to generate question after multiple retries. Please try again later.";
                }
            });

            // Submit Solution Logic
            submitSolutionBtn.addEventListener('click', async () => {
                const userCode = codeEditor.value.trim();
                if (!currentProblemStatement) {
                    solutionFeedbackOutput.innerHTML = "Please generate a problem first!";
                    return;
                }
                if (!userCode) {
                    solutionFeedbackOutput.innerHTML = "Please write some C++ code in the editor before submitting.";
                    return;
                }

                solutionFeedbackOutput.innerHTML = ""; // Clear previous output
                submitSolutionSpinner.classList.remove('hidden'); // Show spinner
                submitSolutionBtn.disabled = true; // Disable button

                // Step 1: Generate Test Cases
                const testCasePrompt = `Generate 3-5 distinct test cases (input and expected output) for the following Data Structures and Algorithms problem, suitable for a C++ implementation. Focus on simple, edge, and a general case. Present them clearly. Problem: "${currentProblemStatement}"`;

                let testCases = "";
                try {
                    const testCaseChatHistory = [{ role: "user", parts: [{ text: testCasePrompt }] }];
                    const testCasePayload = { contents: testCaseChatHistory };
                    const testCaseApiKey = "";
                    const testCaseApiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${testCaseApiKey}`;

                    let testCaseRetries = 0;
                    const maxTestRetries = 3; // Separate retry limit for test cases
                    let testCaseDelay = 500;

                    while (testCaseRetries < maxTestRetries) {
                        const testCaseResponse = await fetch(testCaseApiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(testCasePayload)
                        });

                        if (testCaseResponse.status === 429) {
                            testCaseRetries++;
                            await new Promise(res => setTimeout(res, testCaseDelay));
                            testCaseDelay *= 2;
                            continue;
                        }

                        const testCaseResult = await testCaseResponse.json();
                        if (testCaseResult.candidates && testCaseResult.candidates.length > 0 &&
                            testCaseResult.candidates[0].content && testCaseResult.candidates[0].content.parts &&
                            testCaseResult.candidates[0].content.parts.length > 0) {
                            testCases = testCaseResult.candidates[0].content.parts[0].text;
                            break;
                        } else {
                            solutionFeedbackOutput.innerHTML = "Could not generate test cases. Please try again.";
                            submitSolutionSpinner.classList.add('hidden');
                            submitSolutionBtn.disabled = false;
                            return;
                        }
                    }
                    if (testCaseRetries === maxTestRetries) {
                        solutionFeedbackOutput.innerHTML = "Failed to generate test cases after multiple retries. Please try again later.";
                        submitSolutionSpinner.classList.add('hidden');
                        submitSolutionBtn.disabled = false;
                        return;
                    }
                } catch (error) {
                    solutionFeedbackOutput.innerHTML = "An error occurred during test case generation: " + error.message;
                    submitSolutionSpinner.classList.add('hidden');
                    submitSolutionBtn.disabled = false;
                    return;
                }

                // Step 2: Evaluate Code using Generated Test Cases
                const evaluationPrompt = `Act as an experienced Google L3 interviewer. You have been given the following DSA problem:
                Problem: "${currentProblemStatement}"

                A candidate has submitted the following C++ code:
                Code: \`\`\`cpp\n${userCode}\n\`\`\`

                Here are the test cases you need to conceptually consider:
                Test Cases:\n${testCases}

                Without executing the code, conceptually evaluate its correctness against these test cases. Provide feedback on its potential handling of each test case, identify any obvious logical flaws or missing edge case handling, and briefly comment on its expected time and space complexity and overall code quality relevant to a C++ L3 interview. Structure your feedback clearly with sections for "Test Case Analysis", "Conceptual Correctness", "Edge Cases", and "Complexity & Code Quality".`;

                let evaluationChatHistory = [{ role: "user", parts: [{ text: evaluationPrompt }] }];
                const evaluationPayload = { contents: evaluationChatHistory };
                const evaluationApiKey = "";
                const evaluationApiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${evaluationApiKey}`;

                let evaluationRetries = 0;
                const maxEvalRetries = 5;
                let evaluationDelay = 1000;

                while (evaluationRetries < maxEvalRetries) {
                    try {
                        const evaluationResponse = await fetch(evaluationApiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(evaluationPayload)
                        });

                        if (evaluationResponse.status === 429) {
                            evaluationRetries++;
                            await new Promise(res => setTimeout(res, evaluationDelay));
                            evaluationDelay *= 2;
                            continue;
                        }

                        const evaluationResult = await evaluationResponse.json();
                        if (evaluationResult.candidates && evaluationResult.candidates.length > 0 &&
                            evaluationResult.candidates[0].content && evaluationResult.candidates[0].content.parts &&
                            evaluationResult.candidates[0].content.parts.length > 0) {
                            const feedbackText = evaluationResult.candidates[0].content.parts[0].text;
                            solutionFeedbackOutput.innerHTML = `<strong>Generated Test Cases:</strong>\n${testCases}\n\n---\n<strong>Evaluation Feedback:</strong>\n${feedbackText}`;
                        } else {
                            solutionFeedbackOutput.innerHTML = "Could not evaluate solution. Please try again.";
                        }
                        break;
                    } catch (error) {
                        solutionFeedbackOutput.innerHTML = "An error occurred during solution evaluation: " + error.message;
                        break;
                    } finally {
                        submitSolutionSpinner.classList.add('hidden');
                        submitSolutionBtn.disabled = false;
                    }
                }
                if (evaluationRetries === maxEvalRetries) {
                    solutionFeedbackOutput.innerHTML = "Failed to evaluate solution after multiple retries. Please try again later.";
                }
            });


            renderProblems();
            updateTimerDisplay(); // Initial timer display
        });
    </script>
</body>

</html>